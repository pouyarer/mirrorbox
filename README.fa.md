# MirrorBox 🚀

**یک پروکسی هوشمند و کش‌کننده برای Docker، طراحی‌شده برای دور زدن محدودیت‌های رجیستری و افزایش سرعت دانلود ایمیج‌ها.**

MirrorBox یک ابزار مدرن خط فرمان است که به عنوان یک دروازه هوشمند برای Docker عمل می‌کند. این ابزار به صورت هوشمند درخواست‌های ایمیج شما را از سریع‌ترین آینه‌ها (mirrors) مسیریابی می‌کند، ایمیج‌ها را به صورت محلی کش می‌کند تا آفلاین هم به آن‌ها دسترسی داشته باشید، و به طور یکپارچه در جریان کاری توسعه شما ادغام می‌شود.

---

## ✨ ویژگی‌های کلیدی

MirrorBox تجربه‌ی شما با Docker را با مجموعه‌ای قدرتمند از امکانات ساده و کارآمد می‌سازد:

- ✅ **دانلود سریع‌تر ایمیج‌ها:** ویژگی اصلی. MirrorBox قبل از هر دانلود، سریع‌ترین و مطمئن‌ترین mirror را انتخاب می‌کند و سرعت `docker pull` را به‌طور چشمگیری افزایش می‌دهد.
- ✅ **یکپارچگی با Docker Compose:** کافی است `docker-compose up` را با `mirrorbox compose up` جایگزین کنید. این ابزار همه ایمیج‌های مورد نیاز سرویس‌ها را از بهترین mirror ها می‌گیرد و پروژه شما را بدون تأخیر راه‌اندازی می‌کند.
- ✅ **کش هوشمند محلی:** ایمیج‌های دانلود شده به طور خودکار کش می‌شوند. دفعات بعدی همان ایمیج بلافاصله از دیسک شما بارگذاری می‌شود و هم در پهنای باند صرفه‌جویی می‌کند و هم امکان کار آفلاین را فراهم می‌سازد.
- ✅ **مدیریت کامل کش:** کنترل کامل کش محلی با دستورات ساده برای `list`، `save` و `remove`.
- ✅ **پیکربندی دلخواه:** می‌توانید MirrorBox را شخصی‌سازی کنید. مثلاً با تعیین `priority_mirror` همیشه از رجیستری دلخواه خود استفاده کنید.
- ✅ **یکپارچگی کامل با Docker:** همه ایمیج‌های موجود در Docker daemon را با دستور `list-images` لیست کنید.
- ✅ **مانیتورینگ و گزارش‌گیری زنده:** با `monitor start` داشبورد زنده‌ی وضعیت mirror ها را ببینید و با `report show` تاریخچه عملکردشان را بررسی کنید.

---

## 📦 نصب

با داشتن Python 3.10+ و `pip` می‌توانید MirrorBox را مستقیماً از GitHub نصب کنید:

```bash
pip install git+https://github.com/pouyarer/mirrorbox.git

بعد از نصب، دستور mirrorbox در ترمینال شما در دسترس خواهد بود.

🛠️ شروع سریع (Usage Quick Start)
۱. دانلود یک ایمیج (روش هوشمند)

ابتدا MirrorBox کش محلی را بررسی می‌کند. اگر ایمیج موجود نبود، سریع‌ترین mirror را پیدا کرده، ایمیج را می‌گیرد، دوباره تگ می‌زند و در کش ذخیره می‌کند.

mirrorbox pull nginx:latest

۲. کار با Docker Compose

به دایرکتوری پروژه بروید (جایی که docker-compose.yml قرار دارد) و اجرا کنید:

mirrorbox compose up -d


MirrorBox ایمیج‌های مورد نیاز را می‌گیرد و سپس docker compose up -d را اجرا می‌کند.

۳. مدیریت کش
# لیست تمام ایمیج‌های کش شده
mirrorbox cache list

# ذخیره دستی یک ایمیج در کش
mirrorbox cache save httpd:latest

# حذف یک ایمیج از کش
mirrorbox cache remove httpd-latest.tar

۴. مشاهده همه ایمیج‌های Docker

نمایش همه ایمیج‌های موجود در Docker daemon به صورت جدول مرتب:

mirrorbox list-images

۵. مانیتورینگ Mirror ها

اجرای داشبورد زنده برای مانیتور کردن وضعیت mirror ها (به صورت پیش‌فرض هر ۵ ثانیه بروزرسانی می‌شود):

mirrorbox monitor start --interval 5

📄 مجوز

Copyright (c) 2025 Pouya Rezapour.
تمام حقوق محفوظ است. برای جزئیات بیشتر فایل LICENSE را ببینید.
